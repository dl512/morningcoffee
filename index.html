<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morning Coffee - Your Tailored Daily Newsletter</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1 class="project-name">Morning Coffee</h1>
        </header>

        <main>
            <section class="description">
                <p>
                    In a world overflowing with information, we spend too much time scrolling aimlessly through our phones. 
                    <strong>Morning Coffee</strong> delivers a tailored daily newsletter to your inbox, curated just for you. 
                    Start your day with the news that matters to youâ€”no endless scrolling, no information overload. 
                    Just your personalized briefing, ready when you wake up.
                </p>
            </section>

            <!-- Step 1: Choose Newsletter Template -->
            <section class="step-section">
                <div class="step-header">
                    <span class="step-number">1</span>
                    <h2>Choose Your Newsletter Template</h2>
                </div>
                <p class="step-description">Select a template or create your own custom newsletter</p>
                
                <div class="templates-grid">
                    <div class="template-card">
                        <div class="template-header">
                            <h3>Global Headlines</h3>
                            <button class="expand-toggle" onclick="toggleTemplate(this, 'global-headlines')">
                                <span>View Template</span>
                                <span class="toggle-icon">â–¼</span>
                            </button>
                        </div>
                        <p class="template-description">
                            A comprehensive daily newsletter covering the most important global news stories from major international sources and regional news from around the world.
                        </p>
                        <div class="template-preview" id="global-headlines-template" style="display: none;">
                            <div class="preview-content">
                                <div class="newsletter-loading">Loading newsletter...</div>
                                <div class="newsletter-content"></div>
                            </div>
                            <div class="prompt-section">
                                <button class="prompt-toggle" onclick="togglePrompt(this, 'global-headlines')">
                                    <span>ðŸ’¡ View Sample Prompt</span>
                                    <span class="toggle-icon">â–¼</span>
                                </button>
                                <div class="prompt-box" id="global-headlines-prompt" style="display: none;">
                                    <p class="prompt-label">Sample Prompt:</p>
                                    <pre><code>I want a daily newsletter that covers the most important global news stories. 
I'm interested in:

1. Top breaking news from major international news sources (BBC, CNN, CNBC Politics)
2. Regional news stories directly from local news sources around the world, organized by geographic regions

The newsletter should:
- Focus on significant global events, politics, conflicts, natural disasters, and major developments
- Be comprehensive but concise
- Include links to original sources
- Be available in both English and Chinese (translate the content)

Send it to my email list with separate English and Chinese recipient lists.</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="template-card">
                        <div class="template-header">
                            <h3>Market Briefing</h3>
                            <button class="expand-toggle" onclick="toggleTemplate(this, 'market-briefing')">
                                <span>View Template</span>
                                <span class="toggle-icon">â–¼</span>
                            </button>
                        </div>
                        <p class="template-description">
                            A market-focused newsletter for investors, featuring market data, financial news, tech developments, regulatory announcements, and IPO updates.
                        </p>
                        <div class="template-preview" id="market-briefing-template" style="display: none;">
                            <div class="preview-content">
                                <div class="newsletter-loading">Loading newsletter...</div>
                                <div class="newsletter-content"></div>
                            </div>
                            <div class="prompt-section">
                                <button class="prompt-toggle" onclick="togglePrompt(this, 'market-briefing')">
                                    <span>ðŸ’¡ View Sample Prompt</span>
                                    <span class="toggle-icon">â–¼</span>
                                </button>
                                <div class="prompt-box" id="market-briefing-prompt" style="display: none;">
                                    <p class="prompt-label">Sample Prompt:</p>
                                    <pre><code>I need a daily market-focused newsletter for my investment research. It should include:

1. Market snapshot with current prices, percentage changes, and market caps for major indices and stocks I track
2. Global financial news from financial markets and economic developments
3. Technology news, especially funding events and AI/robotics developments
4. Regulatory announcements from Hong Kong-listed companies I'm monitoring
5. Hong Kong IPO news and updates

The newsletter should:
- Focus on market-moving information and investment-relevant news
- Include detailed market data (prices, changes, market caps)
- Cover tech sector with emphasis on funding and AI/robotics
- Track specific Hong Kong stocks for regulatory filings
- Be in English only (no translation needed)

Send it daily to my email.</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="template-card">
                        <div class="template-header">
                            <h3>Custom</h3>
                        </div>
                        <p class="template-description">
                            Create your own personalized newsletter by describing exactly what you want to read.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Step 2: Choose Plan -->
            <section class="step-section">
                <div class="step-header">
                    <span class="step-number">2</span>
                    <h2>Choose Your Plan</h2>
                </div>
                <p class="step-description">Select free trial or premium subscription</p>
                
                <div class="pricing-grid">
                    <div class="pricing-card">
                        <div class="plan-header">
                            <h3>Free Trial</h3>
                            <div class="plan-price">
                                <span class="price-amount">$0</span>
                                <span class="price-period">/month</span>
                            </div>
                            <p class="plan-description">Try Morning Coffee for one month</p>
                        </div>
                        <ul class="plan-features">
                            <li>âœ“ Personalized daily newsletter</li>
                            <li>âœ“ All newsletter components</li>
                            <li>âœ“ English & Chinese options</li>
                            <li>âœ“ Custom prompts</li>
                            <li>âœ“ Up to 3 feedback comments per month</li>
                            <li class="trial-badge">One-month trial period</li>
                        </ul>
                    </div>

                    <div class="pricing-card featured">
                        <div class="featured-badge">Support the Project</div>
                        <div class="plan-header">
                            <h3>Premium</h3>
                            <div class="plan-price">
                                <span class="price-amount">$8</span>
                                <span class="price-period">/month</span>
                            </div>
                            <p class="plan-description">Unlimited access while subscribed</p>
                        </div>
                        <ul class="plan-features">
                            <li>âœ“ Everything in Free Trial</li>
                            <li>âœ“ Unlimited newsletter access</li>
                            <li>âœ“ 10 feedback comments per month</li>
                            <li>âœ“ Continues as long as you're subscribed</li>
                        </ul>
                        <a href="https://buy.stripe.com/dRm28q9jMbcE48nad48IU00" class="plan-button premium-button" target="_blank" rel="noopener noreferrer">
                            Subscribe as Premium ($8/month)
                        </a>
                    </div>
                </div>
            </section>

            <!-- Step 3: Subscribe -->
            <section class="step-section subscribe">
                <div class="step-header">
                    <span class="step-number">3</span>
                    <h2>Subscribe</h2>
                </div>
                <p class="step-description">Complete your subscription to start receiving your personalized newsletter</p>
                <div class="subscribe-buttons">
                    <a href="https://forms.gle/RYC8R6Nzxc4KnLqe6" class="subscribe-button primary" target="_blank" rel="noopener noreferrer">
                        Subscribe Now
                    </a>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 Morning Coffee. Start your day informed.</p>
        </footer>
    </div>

    <script>
        // Newsletter file paths (relative to the public folder)
        const newsletterPaths = {
            'global-headlines': 'newsletters/global_headlines_sample.md',
            'market-briefing': 'newsletters/market_briefing_sample.md'
        };

        function toggleTemplate(button, templateId) {
            const templatePreview = document.getElementById(templateId + '-template');
            const icon = button.querySelector('.toggle-icon');
            const isOpen = templatePreview.style.display !== 'none';

            if (isOpen) {
                templatePreview.style.display = 'none';
                icon.textContent = 'â–¼';
                button.querySelector('span:first-child').textContent = 'View Template';
            } else {
                templatePreview.style.display = 'block';
                icon.textContent = 'â–²';
                button.querySelector('span:first-child').textContent = 'Hide Template';
                
                // Load newsletter if not already loaded
                const contentDiv = templatePreview.querySelector('.newsletter-content');
                const loadingDiv = templatePreview.querySelector('.newsletter-loading');
                if (contentDiv && !contentDiv.dataset.loaded) {
                    loadNewsletter(templateId, contentDiv, loadingDiv);
                }
            }
        }

        function togglePrompt(button, newsletterId) {
            const promptBox = document.getElementById(newsletterId + '-prompt');
            const icon = button.querySelector('.toggle-icon');
            const isOpen = promptBox.style.display !== 'none';

            if (isOpen) {
                promptBox.style.display = 'none';
                icon.textContent = 'â–¼';
                button.querySelector('span:first-child').textContent = 'ðŸ’¡ View Sample Prompt';
            } else {
                promptBox.style.display = 'block';
                icon.textContent = 'â–²';
                button.querySelector('span:first-child').textContent = 'ðŸ’¡ Hide Sample Prompt';
            }
        }

        async function loadNewsletter(newsletterId, contentDiv, loadingDiv) {
            try {
                const filePath = newsletterPaths[newsletterId];
                const response = await fetch(filePath);
                
                if (!response.ok) {
                    throw new Error('Failed to load newsletter');
                }
                
                const markdown = await response.text();
                const html = marked.parse(markdown);
                contentDiv.innerHTML = html;
                contentDiv.dataset.loaded = 'true';
                loadingDiv.style.display = 'none';
            } catch (error) {
                console.error('Error loading newsletter:', error);
                loadingDiv.innerHTML = '<p style="color: #ef4444;">Unable to load newsletter preview. Please check the file path.</p>';
            }
        }

        // Configure marked for better rendering
        if (typeof marked !== 'undefined') {
            marked.setOptions({
                breaks: true,
                gfm: true
            });
        }
    </script>
</body>
</html>
